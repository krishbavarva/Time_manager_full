import{r as g,f as k,g as _e,o as d,c,a as e,q as ke,w as S,k as L,F as A,i as C,d as Se,n as h,e as P,t as o,b as ee,v as Ae,m as q}from"./index-621cd5fc.js";import{attendanceApi as E}from"./attendance-a1dc7538.js";import{u as te}from"./users-a5fc0dd3.js";import{clockinsApi as Ce}from"./clockins-c9805d20.js";import{userSchedulesApi as De}from"./userSchedules-3c685781.js";import{_ as Me}from"./LoadingSpinner-93693765.js";import"./http-f1abb376.js";const Te={class:"min-h-screen bg-gray-50 py-8"},Ue={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Re={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6"},Le={class:"flex flex-wrap items-center gap-4"},Pe={class:"flex items-center gap-2"},Ee=["value"],Ne={class:"flex items-center gap-2"},Ve=["value"],je={class:"flex items-center gap-2"},Oe=["value"],$e={class:"flex items-center gap-2"},Be={class:"flex items-center gap-2 ml-auto"},ze={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},Fe={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Ie={class:"flex items-center"},He={class:"ml-4"},Ye={class:"text-2xl font-bold text-gray-900"},Je={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},We={class:"flex items-center"},qe={class:"ml-4"},Ge={class:"text-2xl font-bold text-gray-900"},Ke={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Qe={class:"flex items-center"},Xe={class:"ml-4"},Ze={class:"text-sm font-medium text-gray-600"},et={class:"text-2xl font-bold text-gray-900"},tt={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},st={class:"flex items-center"},at={class:"ml-4"},ot={class:"text-2xl font-bold text-gray-900"},nt={key:2,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},lt={class:"px-6 py-4 border-b border-gray-200"},rt={class:"text-sm text-gray-600"},it={class:"overflow-x-auto"},dt={class:"min-w-full divide-y divide-gray-200"},ct={class:"bg-white divide-y divide-gray-200"},ut={class:"px-6 py-4 whitespace-nowrap"},mt={class:"flex items-center"},pt={class:"flex-shrink-0 h-10 w-10"},gt={class:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center"},xt={class:"text-sm font-medium text-white"},yt={class:"ml-4"},vt={class:"text-sm font-medium text-gray-900"},bt={class:"text-sm text-gray-500"},ft={class:"px-6 py-4 whitespace-nowrap"},ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},wt={class:"px-6 py-4 whitespace-nowrap"},_t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},kt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},St=["onClick","disabled"],At={key:1,class:"text-gray-400 text-xs"},Ct={key:3,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},Dt={class:"px-6 py-4 border-b border-gray-200"},Mt={class:"text-sm text-gray-600"},Tt={class:"overflow-x-auto"},Ut={class:"min-w-full divide-y divide-gray-200"},Rt={class:"bg-white divide-y divide-gray-200"},Lt={class:"px-6 py-4 whitespace-nowrap"},Pt={class:"flex items-center"},Et={class:"flex-shrink-0 h-10 w-10"},Nt={class:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center"},Vt={class:"text-sm font-medium text-white"},jt={class:"ml-4"},Ot={class:"text-sm font-medium text-gray-900"},$t={class:"text-sm text-gray-500"},Bt={class:"px-6 py-4 whitespace-nowrap"},zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ft={class:"px-6 py-4 whitespace-nowrap"},It={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Wt=["onClick"],qt=["onClick"],Gt={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Kt={class:"flex items-center justify-between"},Qt={class:"flex-1 flex justify-between sm:hidden"},Xt=["disabled"],Zt=["disabled"],es={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ts={class:"text-sm text-gray-700"},ss={class:"font-medium"},as={class:"font-medium"},os={class:"font-medium"},ns={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},ls=["disabled"],rs=["onClick"],is=["disabled"],ds={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},cs={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},us={class:"mt-3"},ms={class:"mb-4"},ps={class:"mb-4"},gs={class:"flex justify-end gap-3"},N=20,Ss={__name:"AdminAttendanceView",setup(xs){const V=g(!0),I=g([]),D=g([]);g([]);const w=g(new Date().getMonth()),_=g(new Date().getFullYear()),j=g(""),O=g(""),y=g("today"),v=g([]),$=g({}),m=g(1),B=g(!1),f=g({}),se=["January","February","March","April","May","June","July","August","September","October","November","December"],ae=k(()=>{const a=new Date().getFullYear(),t=[];for(let s=a-2;s<=a+1;s++)t.push(s);return t}),b=k(()=>{let a=I.value;return j.value&&(a=a.filter(t=>t.user_id===j.value)),O.value&&(a=a.filter(t=>t.status===O.value)),a}),oe=k(()=>{const a=(m.value-1)*N,t=a+N;return b.value.slice(a,t)}),M=k(()=>Math.ceil(b.value.length/N)),ne=k(()=>{const a=[],t=M.value,s=m.value;let l=Math.max(1,s-2),u=Math.min(t,s+2);for(let n=l;n<=u;n++)a.push(n);return a}),z=k(()=>{if(y.value==="today"){const a=v.value.filter(n=>n.todayStatus==="present").length,t=v.value.filter(n=>n.todayStatus==="absent").length,s=v.value.filter(n=>n.todayStatus==="pending").length;v.value.filter(n=>n.todayStatus==="not_marked").length;const l=v.value.length,u=l>0?Math.round(a/l*100):0;return{present:a,absent:t,onLeave:s,attendanceRate:u}}else{const a=b.value.filter(n=>n.status==="present").length,t=b.value.filter(n=>n.status==="absent").length,s=b.value.filter(n=>n.status==="on_leave").length,l=a+t,u=l>0?Math.round(a/l*100):0;return{present:a,absent:t,onLeave:s,attendanceRate:u}}}),G=a=>a?a.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"??",K=a=>({admin:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",employee:"bg-green-100 text-green-800"})[a]||"bg-gray-100 text-gray-800",le=a=>({present:"bg-green-100 text-green-800",absent:"bg-red-100 text-red-800",on_leave:"bg-yellow-100 text-yellow-800"})[a]||"bg-gray-100 text-gray-800",re=a=>({present:"Present",absent:"Absent",on_leave:"On Leave"})[a]||a,ie=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),x=async()=>{V.value=!0;try{const a=await te.list();D.value=(a.data||[]).filter(n=>n.role!=="admin");const s=(await E.list()).data||[],l=new Date(_.value,w.value,1),u=new Date(_.value,w.value+1,0);I.value=s.filter(n=>{if(!D.value.find(i=>i.id===n.user_id))return!1;const p=new Date(n.date);return p>=l&&p<=u}).map(n=>{const r=D.value.find(p=>p.id===n.user_id);return{...n,user_name:(r==null?void 0:r.name)||"Unknown",user_email:(r==null?void 0:r.email)||"Unknown",user_role:(r==null?void 0:r.role)||"Unknown"}}),await de()}catch(a){console.error("Error loading attendance data:",a)}finally{V.value=!1}},de=async()=>{try{const a=new Date(_.value,w.value,1),t=new Date(_.value,w.value+1,0);for(const s of D.value)try{const u=(await Ce.listByUser(s.id,a.toISOString(),t.toISOString())).data||[];ce(s.id,u)}catch(l){console.error(`Error loading clock data for user ${s.id}:`,l)}}catch(a){console.error("Error loading clock data:",a)}},ce=(a,t)=>{const s={};t.forEach(l=>{const u=new Date(l.time).toISOString().split("T")[0];s[u]||(s[u]=[]),s[u].push(l)}),Object.keys(s).forEach(l=>{const u=s[l].sort((r,p)=>new Date(r.time)-new Date(p.time)),n=I.value.find(r=>r.user_id===a&&r.date===l);if(n&&u.length>0){let r=null,p=null,i=0;for(const T of u)T.status===!0&&!r?r=new Date(T.time):T.status===!1&&r&&(p=new Date(T.time));r&&p&&(i=(p-r)/(1e3*60*60)),n.clock_in_time=r?r.toLocaleTimeString("en-US",{hour12:!1}):null,n.clock_out_time=p?p.toLocaleTimeString("en-US",{hour12:!1}):null,n.work_hours=i>0?i.toFixed(2)+"h":null}})},ue=a=>{f.value={...a},B.value=!0},me=async()=>{try{await E.update(f.value.id,f.value),await x(),B.value=!1}catch(a){console.error("Error updating attendance:",a)}},pe=async a=>{if(confirm("Are you sure you want to delete this attendance record?"))try{await E.delete(a.id),await x()}catch(t){console.error("Error deleting attendance:",t)}},Q=()=>{m.value>1&&m.value--},X=()=>{m.value<M.value&&m.value++},H=async()=>{try{const t=((await te.list()).data||[]).filter(i=>i.role!=="admin"),s=new Date().toISOString().split("T")[0],l=new Date,u=l.getHours()*60+l.getMinutes(),r=((await E.list()).data||[]).filter(i=>i.date===s),p=await Promise.all(t.map(async i=>{var Z;const ve=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l.getDay()];let Y="09:00";try{const W=(Z=(await De.list(i.id)).data)==null?void 0:Z.find(we=>we.day_of_week===ve);W&&W.start_time&&(Y=W.start_time)}catch(F){console.error(`Error loading schedule for user ${i.id}:`,F)}const[be,fe]=Y.split(":").map(Number),he=be*60+fe+30,U=r.find(F=>F.user_id===i.id);let R="pending",J=null;return U?U.status==="present"?(R="present",J=new Date(U.inserted_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})):U.status==="absent"&&(R="absent",J=new Date(U.inserted_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})):u>he?R="pending":R="not_marked",{id:i.id,name:`${i.first_name||""} ${i.last_name||""}`.trim()||i.username||i.email,email:i.email,role:i.role,startTime:Y,todayStatus:R,markedAt:J}}));v.value=p}catch(a){console.error("Error loading today attendance:",a),q.error("Failed to load today's attendance")}},ge=async a=>{try{$.value[a.id]=!0;const t=new Date().toISOString().split("T")[0];await E.create({user_id:a.id,date:t,status:"absent"}),q.success(`Marked ${a.name} as absent`),await H(),await x()}catch(t){console.error("Error marking absent:",t),q.error("Failed to mark as absent")}finally{$.value[a.id]=!1}},xe=a=>{switch(a){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"not_marked":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ye=a=>{switch(a){case"present":return"Present";case"absent":return"Absent";case"pending":return"Pending (Late)";case"not_marked":return"Not Marked Yet";default:return a}};return _e(()=>{x(),H(),setInterval(()=>{y.value==="today"&&H()},6e4)}),(a,t)=>(d(),c("div",Te,[e("div",Ue,[t[31]||(t[31]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Admin Attendance Management"),e("p",{class:"mt-2 text-sm text-gray-600"},"View and manage attendance for all employees and managers")],-1)),V.value?(d(),ke(Me,{key:0,show:V.value,text:"Loading attendance data...",size:"lg"},null,8,["show"])):(d(),c("div",Re,[e("div",Le,[e("div",Pe,[t[9]||(t[9]=e("label",{class:"text-sm font-medium text-gray-700"},"Month:",-1)),S(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>w.value=s),onChange:x,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(d(),c(A,null,C(se,(s,l)=>e("option",{key:l,value:l},o(s),9,Ee)),64))],544),[[L,w.value]])]),e("div",Ne,[t[10]||(t[10]=e("label",{class:"text-sm font-medium text-gray-700"},"Year:",-1)),S(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>_.value=s),onChange:x,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(d(!0),c(A,null,C(ae.value,s=>(d(),c("option",{key:s,value:s},o(s),9,Ve))),128))],544),[[L,_.value]])]),e("div",je,[t[12]||(t[12]=e("label",{class:"text-sm font-medium text-gray-700"},"User:",-1)),S(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>j.value=s),onChange:x,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[11]||(t[11]=e("option",{value:""},"All Users",-1)),(d(!0),c(A,null,C(D.value,s=>(d(),c("option",{key:s.id,value:s.id},o(s.name)+" ("+o(s.role)+")",9,Oe))),128))],544),[[L,j.value]])]),e("div",$e,[t[14]||(t[14]=e("label",{class:"text-sm font-medium text-gray-700"},"Status:",-1)),S(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>O.value=s),onChange:x,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[13]||(t[13]=[Se('<option value="">All Status</option><option value="present">Present</option><option value="absent">Absent</option><option value="pending">Pending</option><option value="on_leave">On Leave</option>',5)])],544),[[L,O.value]])]),e("div",Be,[e("button",{onClick:t[4]||(t[4]=s=>y.value="today"),class:h([y.value==="today"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700","px-4 py-2 rounded-lg font-medium transition-colors"])}," Today's Status ",2),e("button",{onClick:t[5]||(t[5]=s=>y.value="history"),class:h([y.value==="history"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700","px-4 py-2 rounded-lg font-medium transition-colors"])}," History ",2)]),e("button",{onClick:x,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},[...t[15]||(t[15]=[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),P(" Refresh ",-1)])])])])),e("div",ze,[e("div",Fe,[e("div",Ie,[t[17]||(t[17]=e("div",{class:"p-3 rounded-full bg-green-100"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",He,[t[16]||(t[16]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Present",-1)),e("p",Ye,o(z.value.present),1)])])]),e("div",Je,[e("div",We,[t[19]||(t[19]=e("div",{class:"p-3 rounded-full bg-red-100"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",qe,[t[18]||(t[18]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Absent",-1)),e("p",Ge,o(z.value.absent),1)])])]),e("div",Ke,[e("div",Qe,[t[20]||(t[20]=e("div",{class:"p-3 rounded-full bg-yellow-100"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Xe,[e("p",Ze,o(y.value==="today"?"Pending":"On Leave"),1),e("p",et,o(z.value.onLeave),1)])])]),e("div",tt,[e("div",st,[t[22]||(t[22]=e("div",{class:"p-3 rounded-full bg-blue-100"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",at,[t[21]||(t[21]=e("p",{class:"text-sm font-medium text-gray-600"},"Attendance Rate",-1)),e("p",ot,o(z.value.attendanceRate)+"%",1)])])])]),y.value==="today"?(d(),c("div",nt,[e("div",lt,[t[23]||(t[23]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Today's Attendance Status",-1)),e("p",rt,o(v.value.length)+" employees/managers",1)]),e("div",it,[e("table",dt,[t[24]||(t[24]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"User"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Start Time"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Marked At"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",ct,[(d(!0),c(A,null,C(v.value,s=>(d(),c("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",ut,[e("div",mt,[e("div",pt,[e("div",gt,[e("span",xt,o(G(s.name)),1)])]),e("div",yt,[e("div",vt,o(s.name),1),e("div",bt,o(s.email),1)])])]),e("td",ft,[e("span",{class:h(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",K(s.role)])},o(s.role),3)]),e("td",ht,o(s.startTime||"Not Set"),1),e("td",wt,[e("span",{class:h(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",xe(s.todayStatus)])},o(ye(s.todayStatus)),3)]),e("td",_t,o(s.markedAt||"-"),1),e("td",kt,[s.todayStatus==="pending"?(d(),c("button",{key:0,onClick:l=>ge(s),disabled:$.value[s.id],class:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-xs"},o($.value[s.id]?"Marking...":"Mark Absent"),9,St)):(d(),c("span",At,"No action needed"))])]))),128))])])])])):(d(),c("div",Ct,[e("div",Dt,[t[25]||(t[25]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Attendance Records",-1)),e("p",Mt,o(b.value.length)+" records found",1)]),e("div",Tt,[e("table",Ut,[t[26]||(t[26]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"User"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Clock In Time"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Clock Out Time"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Work Hours"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Rt,[(d(!0),c(A,null,C(oe.value,s=>(d(),c("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Lt,[e("div",Pt,[e("div",Et,[e("div",Nt,[e("span",Vt,o(G(s.user_name)),1)])]),e("div",jt,[e("div",Ot,o(s.user_name),1),e("div",$t,o(s.user_email),1)])])]),e("td",Bt,[e("span",{class:h(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",K(s.user_role)])},o(s.user_role),3)]),e("td",zt,o(ie(s.date)),1),e("td",Ft,[e("span",{class:h(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",le(s.status)])},o(re(s.status)),3)]),e("td",It,o(s.clock_in_time||"-"),1),e("td",Ht,o(s.clock_out_time||"-"),1),e("td",Yt,o(s.work_hours||"-"),1),e("td",Jt,[e("button",{onClick:l=>ue(s),class:"text-blue-600 hover:text-blue-900 mr-3"}," Edit ",8,Wt),e("button",{onClick:l=>pe(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,qt)])]))),128))])])]),M.value>1?(d(),c("div",Gt,[e("div",Kt,[e("div",Qt,[e("button",{onClick:Q,disabled:m.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Xt),e("button",{onClick:X,disabled:m.value===M.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Zt)]),e("div",es,[e("div",null,[e("p",ts,[t[27]||(t[27]=P(" Showing ",-1)),e("span",ss,o((m.value-1)*N+1),1),t[28]||(t[28]=P(" to ",-1)),e("span",as,o(Math.min(m.value*N,b.value.length)),1),t[29]||(t[29]=P(" of ",-1)),e("span",os,o(b.value.length),1),t[30]||(t[30]=P(" results ",-1))])]),e("div",null,[e("nav",ns,[e("button",{onClick:Q,disabled:m.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,ls),(d(!0),c(A,null,C(ne.value,s=>(d(),c("button",{key:s,onClick:l=>m.value=s,class:h(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s===m.value?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},o(s),11,rs))),128)),e("button",{onClick:X,disabled:m.value===M.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,is)])])])])])):ee("",!0)]))]),B.value?(d(),c("div",ds,[e("div",cs,[e("div",us,[t[35]||(t[35]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Edit Attendance",-1)),e("div",ms,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),S(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>f.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[32]||(t[32]=[e("option",{value:"present"},"Present",-1),e("option",{value:"absent"},"Absent",-1),e("option",{value:"on_leave"},"On Leave",-1)])],512),[[L,f.value.status]])]),e("div",ps,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date",-1)),S(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>f.value.date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[Ae,f.value.date]])]),e("div",gs,[e("button",{onClick:t[8]||(t[8]=s=>B.value=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Cancel "),e("button",{onClick:me,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors"}," Save ")])])])])):ee("",!0)]))}};export{Ss as default};
