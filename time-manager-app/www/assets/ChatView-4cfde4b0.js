import{h as g}from"./http-8cebfae0.js";import{x as m,o as r,c as n,a as s,d,F as p,i as v,b as x,w as f,v as w,z as y,n as c,t as u}from"./index-5e39243b.js";const b="/api/chat",k={async sendMessage(o){try{const e=await g.post(b,{messages:o});return console.log("Chatbot response:",e),e}catch(e){throw console.error("Error sending message to chatbot:",e),e}}};const _={name:"ChatView",data(){return{isOpen:!0,isLoading:!1,userInput:"",messages:[{role:"assistant",content:"Hello! I'm your Timemanager Assistant. I can help you with time tracking, clock-in/out processes, leave requests, dashboard analytics, and general questions about the system. How can I assist you today?"}]}},mounted(){this.scrollToBottom()},methods:{async sendMessage(){if(!this.userInput.trim()||this.isLoading)return;const o={role:"user",content:this.userInput};this.messages.push(o),this.userInput="",this.isLoading=!0;try{const l=(await k.sendMessage([{role:"system",content:`You are Timemanager Assistant, an AI helper for a professional time management system. 
            The Timemanager application allows employees, managers, and admins to:
            - Clock in/out with location tracking
            - View work time analytics and dashboard metrics
            - Submit and manage leave requests
            - Track productivity and time statistics
            - Manage user roles (Admin, Manager, Employee)
            
            Provide helpful, professional guidance about these features. Be concise, friendly, and informative.`},...this.messages])).choices[0].message;this.messages.push(l)}catch(e){console.error("Error:",e),this.messages.push({role:"assistant",content:"Sorry, I encountered an error. Please try again later."})}finally{this.isLoading=!1,this.scrollToBottom()}},closeChat(){this.$router.push("/dashboard")},scrollToBottom(){this.$nextTick(()=>{const o=this.$refs.messagesContainer;o&&(o.scrollTop=o.scrollHeight)})}}},M={class:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center p-4"},C={class:"w-full max-w-4xl h-[80vh] bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 overflow-hidden flex flex-col"},I={class:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 flex items-center justify-between"},L={class:"flex-1 overflow-y-auto p-6 space-y-4",ref:"messagesContainer"},j={class:"max-w-xs lg:max-w-md xl:max-w-lg"},T={key:0,class:"flex items-start space-x-3"},B={class:"bg-gray-100 rounded-2xl rounded-tl-md px-4 py-3 shadow-sm"},A={class:"text-gray-800 text-sm leading-relaxed"},V={key:1,class:"bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl rounded-tr-md px-4 py-3 shadow-sm"},z={class:"text-white text-sm leading-relaxed"},E={key:0,class:"flex justify-start"},H={class:"p-6 border-t border-gray-200 bg-gray-50/50"},S={class:"flex space-x-3"},P={class:"flex-1 relative"},q=["disabled"],N=["disabled"],D={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F={key:1,class:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"};function K(o,e,l,U,a,i){return r(),n("div",M,[s("div",C,[s("div",I,[e[5]||(e[5]=d('<div class="flex items-center space-x-4" data-v-3587177a><div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center" data-v-3587177a><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3587177a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" data-v-3587177a></path></svg></div><div data-v-3587177a><h1 class="text-xl font-bold text-white" data-v-3587177a>Timemanager Assistant</h1><p class="text-indigo-100 text-sm" data-v-3587177a>Your AI-powered time management helper</p></div></div>',1)),s("button",{onClick:e[0]||(e[0]=(...t)=>i.closeChat&&i.closeChat(...t)),class:"p-2 hover:bg-white/20 rounded-full transition-colors duration-200",title:"Close Chat"},[...e[4]||(e[4]=[s("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",L,[(r(!0),n(p,null,v(a.messages,(t,h)=>(r(),n("div",{key:h,class:c(["flex message",t.role==="user"?"justify-end":"justify-start"])},[s("div",j,[t.role==="assistant"?(r(),n("div",T,[e[6]||(e[6]=s("div",{class:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0"},[s("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),s("div",B,[s("p",A,u(t.content),1)])])):(r(),n("div",V,[s("p",z,u(t.content),1)]))])],2))),128)),a.isLoading?(r(),n("div",E,[...e[7]||(e[7]=[d('<div class="max-w-xs lg:max-w-md xl:max-w-lg" data-v-3587177a><div class="flex items-start space-x-3" data-v-3587177a><div class="w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0" data-v-3587177a><svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3587177a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-3587177a></path></svg></div><div class="bg-gray-100 rounded-2xl rounded-tl-md px-4 py-3 shadow-sm" data-v-3587177a><div class="flex space-x-1" data-v-3587177a><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" data-v-3587177a></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0.1s;" data-v-3587177a></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0.2s;" data-v-3587177a></div></div></div></div></div>',1)])])):x("",!0)],512),s("div",H,[s("div",S,[s("div",P,[f(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.userInput=t),onKeyup:e[2]||(e[2]=y((...t)=>i.sendMessage&&i.sendMessage(...t),["enter"])),placeholder:"Ask me anything about time management...",class:"w-full px-4 py-3 pr-12 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200",disabled:a.isLoading},null,40,q),[[w,a.userInput]]),s("button",{onClick:e[3]||(e[3]=(...t)=>i.sendMessage&&i.sendMessage(...t)),disabled:a.isLoading||!a.userInput.trim(),class:c(["absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-xl transition-all duration-200",a.isLoading||!a.userInput.trim()?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-purple-500 text-white hover:shadow-lg hover:scale-105"])},[a.isLoading?(r(),n("div",F)):(r(),n("svg",D,[...e[8]||(e[8]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},null,-1)])]))],10,N)])]),e[9]||(e[9]=s("p",{class:"text-xs text-gray-500 mt-2 text-center"},"Press Enter to send â€¢ AI Assistant for Timemanager",-1))])])])}const R=m(_,[["render",K],["__scopeId","data-v-3587177a"]]);export{R as default};
