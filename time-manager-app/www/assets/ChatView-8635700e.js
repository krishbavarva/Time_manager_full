import{o as a,c as r,a as e,F as d,r as h,d as g,w as m,v as p,B as y,t as u,n as _,b as w}from"./index-a08d2ddb.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";const v={async sendMessage(o){try{return await new Promise(s=>setTimeout(s,1e3)),{choices:[{message:{role:"assistant",content:"I understand your question about the Time Manager. This application helps you track your work hours, clock in/out, and manage your schedule. You can view your working time history and statistics here."}}]}}catch(s){throw console.error("Error sending message to chatbot:",s),s}}};const k={name:"ChatView",data(){return{isOpen:!0,isLoading:!1,userInput:"",messages:[{role:"assistant",content:"Hello! I'm your Time Manager Assistant. How can I help you today?"}]}},mounted(){this.scrollToBottom()},methods:{async sendMessage(){if(!this.userInput.trim()||this.isLoading)return;const o={role:"user",content:this.userInput};this.messages.push(o),this.userInput="",this.isLoading=!0;try{const l=(await v.sendMessage([{role:"system",content:`You are an instructional chatbot. Your job is to guide users on how to use the Time Manager website. 
            The website is a time scheduler for employees. Gotham has been overrun by villains and the time management for 
            the employees is in shambles. This website allows users to login, signup, set their own time schedule, 
            clock in/out, and view their work time history and statistics.`},...this.messages])).choices[0].message;this.messages.push(l)}catch(s){console.error("Error:",s),this.messages.push({role:"assistant",content:"Sorry, I encountered an error. Please try again later."})}finally{this.isLoading=!1,this.scrollToBottom()}},closeChat(){this.$router.push("/dashboard")},scrollToBottom(){this.$nextTick(()=>{const o=this.$refs.messagesContainer;o&&(o.scrollTop=o.scrollHeight)})}}},f={class:"chat-view"},M={class:"chat-container"},T={class:"chat-window"},C={class:"chatbot-header"},I={class:"messages",ref:"messagesContainer"},L={class:"message-content"},x={key:0},B={key:1},V={key:0,class:"typing-indicator"},S={class:"input-area"},Y=["disabled"],A=["disabled"];function E(o,s,l,H,n,i){return a(),r("div",f,[e("div",M,[e("div",T,[e("div",C,[s[5]||(s[5]=e("span",null,"Time Manager Assistant",-1)),e("button",{onClick:s[0]||(s[0]=(...t)=>i.closeChat&&i.closeChat(...t)),class:"close-button",title:"Close Chat"},[...s[4]||(s[4]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",class:"close-icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",I,[(a(!0),r(d,null,h(n.messages,(t,c)=>(a(),r("div",{key:c,class:_(["message",t.role])},[e("div",L,[t.role==="assistant"?(a(),r("strong",x,"Assistant:")):(a(),r("strong",B,"You:")),w(" "+u(t.content),1)])],2))),128)),n.isLoading?(a(),r("div",V,[...s[6]||(s[6]=[e("span",null,null,-1),e("span",null,null,-1),e("span",null,null,-1)])])):g("",!0)],512),e("div",S,[m(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>n.userInput=t),onKeyup:s[2]||(s[2]=y((...t)=>i.sendMessage&&i.sendMessage(...t),["enter"])),placeholder:"Type your message...",class:"message-input",disabled:n.isLoading},null,40,Y),[[p,n.userInput]]),e("button",{onClick:s[3]||(s[3]=(...t)=>i.sendMessage&&i.sendMessage(...t)),class:"send-button",disabled:n.isLoading},u(n.isLoading?"Sending...":"Send"),9,A)])])])])}const D=b(k,[["render",E],["__scopeId","data-v-2283b15b"]]);export{D as default};
